<!--
<section>
<div class="cards">
    <div th:each="naracka : ${orders}" class="card">
        <div class="container">
            <h4 th:text="${naracka?.getId()}"><b></b></h4>
            <table>
                <tr th:each="product: ${naracka?.getProducts()}">
                    <td th:text="${product.getName()}">name</td>
                    <td th:text="${product.getQuantity()}">quantity</td>
                    <th:block>
                        <form th:action="@{'/orders/delete/product/{productId}/{orderId}' (productId=${product.getId()}, orderId=${naracka?.getId()})}"
                              th:method="POST">
                            <button type="submit"
                                    class="btn btn-sm btn-danger delete-product">
                                <i class="fa fa-trash">Remove from order</i>
                            </button>
                        </form>
                    </th:block>
                </tr>
            </table>
            <div class="accepted">
                <h5 th:if="${naracka?.getAccepted()}">This order has been accepted</h5>
            </div>
            <div class="rejected">
                <h5 th:if="${naracka?.getRejected()}">This order has been rejected</h5>
            </div>
            <div class="buttons">
                <form th:action="@{'/orders/delete/{id}' (id=${naracka?.getId()})}"
                      th:method="POST">
                    <button type="submit"
                            class="btn btn-sm btn-danger delete-product">
                        <i class="fa fa-trash">Delete</i>
                    </button>
                </form>
                <form th:action="@{'/orders/accept/{id}' (id=${naracka?.getId()})}"
                      th:method="POST">
                    <button type="submit"
                            class="btn btn-sm delete-product">
                        <i class="fa fa-trash">Accept Order</i>
                    </button>
                </form>
                <form th:action="@{'/orders/decline/{id}' (id=${naracka?.getId()})}"
                      th:method="POST">
                    <button  type="submit"
                            class="btn btn-sm delete-product">
                        <i class="fa fa-trash">Decline Order</i>
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>
</section>-->

<section class="h-100" style="background-color: #eee;">



  <div class="container">
    <div class="container h-100 py-5">
      <div class="row d-flex justify-content-center align-items-center h-100">
        <div class="col-10">

          <div class="d-flex justify-content-between align-items-center mb-4">
            <h3 class="fw-normal mb-0 text-black">Orders</h3>
          </div>

          <div th:if="${error!=null}" class="d-flex justify-content-between align-items-center mb-4">
            <h5 style="background: red"  class="fw-normal mb-0 text-black">There are not enough quantities available</h5>
          </div>


          <div  th:each="naracka : ${orders}">
            <div th:each="product: ${naracka?.getProducts()}" class="card rounded-3 mb-4">
              <div class="card-body p-4">
                <div class="row d-flex justify-content-between align-items-center">
                  <div class="col-md-2 col-lg-2 col-xl-2">

                    <img th:src="${product.img}"
                            src="data:image/jpeg;base64,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"
                            class="img-fluid rounded-3" alt="Cotton T-shirt">
                  </div>
                  <div class="col-md-4 col-lg-2 col-xl-2">
                    <p th:text="${product.getName()}" class="lead fw-normal mb-2">Basic T-shirt</p>
                    <p><span style="color: orangered" th:text="${ 'Available: ' +product.getQuantity()}" class="text-muted"> </span> <span class="text-muted"> </span></p>
                  </div>
                  <div class="col-md-3 col-lg-3 col-xl-2 d-flex">

                    <h5 th:text="${product.getPrice() + ' ден.'}" class="mb-0">$499.00</h5>
                  </div>
                  <div class="col-md-4 col-lg-3 col-xl-3">

                    <p th:text="${naracka.orderedByUserName}" class="lead fw-normal mb-2">Nikola Mitreski</p>
                    <p><span   th:text="${naracka.grad}" class="text-muted">City: Skopje </span> <span class="text-muted"> </span></p>
                    <p><span  th:text="${naracka.broj}" class="text-muted">Phone: 075-852-987 </span> <span class="text-muted"> </span></p>

                  </div>
                  <div class="col-md-3 col-lg-2 col-xl-2 offset-lg-1">

                    <span th:text="${'Ordered: '+naracka?.quantity}" style="color: orange"> Accepted!</span>

                    <span th:if="${naracka?.getStatus().name=='TRUE'}" style="color: green"> Accepted!</span>

                    <span th:if="${naracka?.getStatus().name=='FALSE'}" style="color: red"> Declined!</span>


                    <form th:if="${naracka?.getStatus().name=='WAITING'}" th:action="@{'/orders/accept/{id}' (id=${naracka?.getId()})}"
                          th:method="POST">
                      <button type="submit"
                              class="btn btn-sm btn-success delete-product">
                        <i class="fa fa-trash">Accept Order</i>
                      </button>
                    </form >
                    <form th:if="${naracka?.getStatus().name=='WAITING'}" th:action="@{'/orders/decline/{id}' (id=${naracka?.getId()})}"
                          th:method="POST">
                      <button  type="submit"
                               class="btn btn-sm btn-danger delete-product">
                        <i class="fa fa-trash">Decline Order</i>
                      </button>
                    </form>
                  </div>

                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>

  </div>
  </div>
  </div>
</section>
